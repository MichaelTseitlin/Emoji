//
//  StorageManager.swift
//  Emoji
//
//  Created by Michael Tseitlin on 6/12/19.
//  Copyright ¬© 2019 Michael Tseitlin. All rights reserved.
//

import Foundation

class StorageManager {
    
    // MARK: - Properties
    
    let documentDirectory = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first!
    let archiveURL: URL
    
    init() {
        archiveURL = documentDirectory.appendingPathComponent("emojis").appendingPathExtension("plist")
    }
    
    // MARK: - Methods
    
    func saveData(emojis: [[Emoji]]) {
        let encoder = PropertyListEncoder()
        guard let encodedEmojis = try? encoder.encode(emojis) else { return }
        try? encodedEmojis.write(to: archiveURL, options: .noFileProtection)
    }
    
    func loadData() -> [[Emoji]]? {
        guard let data = try? Data(contentsOf: archiveURL) else { return nil }
        let decoder = PropertyListDecoder()
        return try? decoder.decode([[Emoji]].self, from: data)
    }
    
    func loadEmojis() -> [[Emoji]] {
        return [
            [Emoji(symbol: "‚≠êÔ∏è", name: "–ó–≤–µ–∑–¥–∞", description: "–ñ—ë–ª—Ç–∞—è –∑–≤–µ–∑–¥–∞", usage: "–û—Ç–º–µ—á–∞—Ç—å —Ö–æ—Ä–æ—à–µ–µ"),
             Emoji(symbol: "ü§ì", name: "–ù–µ—Ä–¥", description: "–°–º–∞–π–ª–∏–∫ –≤ –æ—á–∫–∞—Ö", usage: "–ß—Ç–æ-—Ç–æ –∑–∞—É–º–Ω–æ–µ"),
             Emoji(symbol: "üèñ", name: "–ü–ª—è–∂", description: "–ó–æ–Ω—Ç–∏–∫ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ", usage: "–ü–æ–µ–¥–µ–º –æ—Ç–¥—ã—Ö–∞—Ç—å"),
             Emoji(symbol: "üóΩ", name: "–°–≤–æ–±–æ–¥–∞", description: "–°—Ç–∞—Ç—É—è —Å–≤–æ–±–æ–¥—ã", usage: "–ü—Ä–∞–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞")],
            [Emoji(symbol: "üçè", name: "–Ø–±–ª–æ–∫–æ", description: "–ó–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ", usage: "–û—á–µ–Ω—å –∫–∏—Å–ª–æ–µ"),
             Emoji(symbol: "üçâ", name: "–ê—Ä–±—É–∑", description: "–°–ø–µ–ª—ã–π –∞—Ä–±—É–∑", usage: "–ú–æ–∂–Ω–æ –∏ –ø–æ–µ—Å—Ç—å –∏ –ø–æ–ø–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"),
             Emoji(symbol: "üçì", name: "–ö–ª—É–±–Ω–∏–∫–∞", description: "–°–≤–µ–∂–∞—è –∫–ª—É–±–Ω–∏–∫–∞", usage: "–ü–æ–ø—É–ª—è—Ä–Ω–∞—è —è–≥–æ–¥–∞"),
             Emoji(symbol: "ü•ó", name: "–ó–µ–ª–µ–Ω–Ω—ã–π —Å–∞–ª–∞—Ç", description: "–°–∞–ª–∞—Ç –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π", usage: "–î–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–µ")],
            [Emoji(symbol: "üê∂", name: "–°–æ–±–∞–∫–∞", description: "–í–∏—Å–ª–æ—É—Ö–∞—è —Å–æ–±–∞–∫–∞", usage: "–î—Ä—É–≥ —á–µ–ª–æ–≤–µ–∫–∞"),
             Emoji(symbol: "üêº", name: "–ü–∞–Ω–¥–∞", description: "–ü—É—Ö–ª–∞—è –ø–∞–Ω–¥–∞", usage: "–°–∞–º–æ–µ –º–∏–ª–æ–µ —Å—É—â–µ—Å—Ç–≤–æ"),
             Emoji(symbol: "üê¨", name: "–î–µ–ª—å—Ñ–∏–Ω", description: "–í—ã–ø—Ä—ã–≥–∏–≤–∞—é—â–∏–π –¥–µ–ª—å—Ñ–∏–Ω", usage: "–°–∞–º–æ–µ —É–º–Ω–æ–µ –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ"),
             Emoji(symbol: "ü¶Ñ", name: "–ï–¥–∏–Ω–æ—Ä–æ–≥", description: "–†–æ–∑–æ–≤—ã–π –µ–¥–∏–Ω–æ—Ä–æ–≥", usage: "–ú–∏—Ñ–∏—á–µ—Å–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ")],
            [Emoji(symbol: "üì±", name: "–¢–µ–ª–µ—Ñ–æ–Ω", description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω", usage: "–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ iPhone"),
             Emoji(symbol: "üìü", name: "–ü–µ–π–¥–∂–µ—Ä", description: "–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞–¥–∏–æ–ø—Ä–∏—ë–º–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", usage: "–ö–æ–≥–¥–∞-—Ç–æ —Ç–∞–∫–∏–º–∏ —à—Ç—É–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ª—é–¥–∏")]
        ]
    }
}
